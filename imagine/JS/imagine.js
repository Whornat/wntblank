(function(){!function(e,i,t){"use strict";var n;return n={animation:"y",animate:"TweenLite",optimize:!0,initialAnimationDuration:1,orientation:"vertical",factor:.5,screen:{xs:0,sm:768,md:992,lg:1200,xl:1560},perspective:800,perspectiveOrigin:"50% 50%",preload:!0,preloader:'<div class="imagine-loader"><div class="imagine-loader-inner"></div></div>',normalizeTop:!0,overflow:!1,anchor:"center",size:"auto",selector:{layer:".imagine-layer",background:".imagine-background"}},e.imagine=function(s,a){this._defaults=n,this.settings=e.extend(!0,{},this._defaults,a),this.element=e(s),this.layers=e(this.settings.selector.layer,this.element),this.background=e(this.settings.selector.background,this.element),this.source=this.settings.source?this.settings.source:this.element,this.parent=this.settings.parent?this.settings.parent:this.element.parent(),this.window=e(i),this.background.length>0&&!this.settings.animateElement?this.settings.animateElement=!1:this.settings.animateElement=!0,this.debug=!1,this.size={window:{},source:{},parent:{},element:{},background:{},layer:[]},this.position={window:{},source:{},element:{},parent:{}},this.loaded=!1,this.initialize=function(e){return function(){e.set_element_id(),e.set_animator(),e.set_orientation(e.settings.orientation),e.set_layer_index(),e.init_animus(),e.set_data(),e.set_classes(),e.load(function(){e.set_size(),e.set_position(),e.set_responsive_context(),e.bind_resize(),e.bind_scroll(),e.scroll(),e.loaded=!0,e.element.triggerHandler("imagine.load",[e.element]),e.log("Imagine has been initialized.")})}}(this),this.parallax=function(i){return function(){var t,n,s,a,o,r,l;t=e.imagine.window[i.param.middle]-i.position.source[i.param.middle],o=(e.imagine.window[i.param.end]-i.position.source[i.param.start])/i.size.source.spanning,s=t/i.size.source.spanning,i.position.source.beginning&&(n=i.size.window.half-i.position.source[i.param.middle],r=n/i.size.source.spanning,t-=n,o-=r,s-=r),l=t<=0,a=t>=0,i.loaded||(l=!1,a=!1,i.in_view||(t=0,o=0,s=0)),e.each(i.animation,function(n,r){var g,h,d;g={},d=r[0],h=r[1][i.current_responsive_size],e.each(h.state,function(n,r){var d,m,c,u,p,w,f,z,_,b,v,y;if("*"===h.state[n][0]){if(f=h.state[n][3],w="to-middle"===f||"from-middle"===f?2:1,y=Math.abs(r[1])+Math.abs(r[2]),"to-middle"===f&&a)return;return void("from-middle"===f?l?g[n]=r[1]:g[n]=r[1]-y*(o-.5)*w:(v=y*o*w,r[1]>r[2]?g[n]=r[1]-v:g[n]=r[1]+v))}if(z=h.state[n][0],f=h.state[n][1],c=t*z,b=o*z,u=s*z,!("to-middle"===f&&a||"from-middle"===f&&l)||"opacity"===n)switch(n){case"opacity":"from-middle"===f?(g[n]=1-2*u,g[n]>1&&(g[n]=1)):"to-middle"===f?(g[n]=1+2*u,g[n]>1&&(g[n]=1)):g[n]=1-Math.abs(2*u);break;case"scale":case"scaleX":case"scaleY":case"scaleZ":"up"===f?g[n]=1+b:"down"===f?g[n]=1+.5*z-b:g[n]=1+u;break;case"rotation":case"rotationX":case"rotationY":case"rotationZ":g[n]=180*(o-.5)*z;break;case"skewX":case"skewY":case"skewZ":g[n]=180*(o-.5)*z;break;case"x":case"y":i.background.length>0?i.size.source.same[i.param.size]&&n===i.param.axis?(_={},_[i.param.start]=(e.imagine.window[i.param.start]-i.position.source[i.param.start])/i.size.source[i.param.size],_[i.param.end]=(e.imagine.window[i.param.end]-i.position.source[i.param.end])/i.size.source[i.param.size],_.value=0,_[i.param.start]<0?_[i.param.start]=0:_.value=_[i.param.start],_[i.param.end]>0?_[i.param.end]=0:_.value=_[i.param.end],g[n]=_.value*i.size.source[i.param.size]*z):(p=i.size.source.difference*(1+z),d=i.position.element[i.param.start]-c-p,m=d+i.size.element[i.param.size],d>i.position.source[i.param.start]&&m<i.position.source[i.param.end]||(g[n]=c)):g[n]=c;break;default:g[n]=c}}),g.onComplete=i.stop_ticking,i.loaded?i.animate.set(d,g):i.animate.to(d,i.settings.initialAnimationDuration,g)}),i.element.triggerHandler("imagine.parallax",[o,t,s])}}(this),this.load=function(i){return function(t){var n,s,a;n=i.background.add(i.layers.filter("img")),n.length>0?(s=0,i.settings.preloader&&(a=e(i.settings.preloader),i.background.before(a)),n.each(function(o,r){var l,g,h;l=e(r),h=null!=l.attr("data-imagine-src")?l.attr("data-imagine-src"):l.attr("src"),g=e("<img>"),g.attr("src",h),g.on("load",function(){l.attr("src",h),s+=1,s===n.length&&(i.settings.preloader&&i.animate.to(a,1,{scale:2,opacity:0,onComplete:function(){a.remove()}}),t.call())}).on("error",function(){i.error('Image with src="'+h+'" failed to load.')})})):t.call()}}(this),this.init_animus=function(i){return function(){var t;t={duration:i.settings.animation.duration,easing:i.settings.animation.easing},i.animus=new e.animus(t),i.log("Initialized animus parser.")}}(this),this.set_data=function(i){return function(){i.animation=[],i.settings.animateElement&&i.animation.push([i.element,i.get_animation_data("element",i.element)]),i.background.length>0&&(i.animation.push([i.background,i.get_animation_data("background",i.background)]),i.size.background=i.get_size_data("background",i.background)),i.layers.length>0&&(i.animation.layer=[],i.layers.each(function(t,n){n=e(n),i.animation.push([n,i.get_animation_data("layer",n,t)]),i.size.layer.push(i.get_size_data("layer",n,t))})),i.log("Imagine data has been processed."),i.log(i.animation)}}(this),this.get_animation_data=function(i){return function(t,n,s){var a,o,r,l,g;return a={},o="",r=null,g=null!=n.attr("id")?"#"+n.attr("id"):"",l=null!=n.attr("class")?n.attr("class").split(" ").map(function(e){return"."+e}):[],null!=n.attr("data-imagine")?o=n.attr("data-imagine"):"string"==typeof i.settings.animation?o=i.settings.animation:"object"==typeof i.settings.animation&&("string"==typeof i.settings.animation[t]?o=i.settings.animation[t]:e.isArray(i.settings.animation[t])?"string"==typeof i.settings.animation[t][s]?o=i.settings.animation[t][s]:"object"==typeof i.settings.animation[t][s]&&(r=i.settings.animation[t][s],"string"==typeof i.settings.animation[t][s]["*"]&&(o=i.settings.animation[t]["*"])):"object"==typeof i.settings.animation[t]?(r=i.settings.animation[t],"string"==typeof i.settings.animation[t]["*"]?o=i.settings.animation[t]["*"]:"string"==typeof i.settings.animation[t][g]?o=i.settings.animation[t][g]:"object"==typeof i.settings.animation[t][g]?r=i.settings.animation[t][g]:e.each(l,function(e,n){"string"==typeof i.settings.animation[t][n]&&(o=i.settings.animation[t][n]),"object"==typeof i.settings.animation[t][n]&&(r=i.settings.animation[t][n])})):o="string"==typeof i.settings.animation["*"]?i.settings.animation["*"]:""),e.each(Object.keys(i.settings.screen),function(e,t){var n,s,l,g,h;a[t]={},s={},s=r&&"string"==typeof r[t]?r[t]:o,a[t]=i.animus.get(s),n=a[t].state;for(g in n)h=n[g],h=""+h,h.indexOf("..")===-1?(l=h.split(/\s+/),0===l.length?l.push(i.settings.factor):1===l.length&&(""===l[0]&&(l[1]="default",l[0]=i.settings.factor),isNaN(l[0])?(l[1]=l[0],l[0]=i.settings.factor):(l[1]="default",l[0]=parseFloat(l[0]))),a[t].state[g]=l):(l=["*"],h=h.split(/[\. ]+/),l[1]=parseFloat(h[0]),l[2]=parseFloat(h[1]),2===h.length?l[3]="default":l[3]=h[2],a[t].state[g]=l)}),a}}(this),this.get_size_data=function(i){return function(t,n,s){var a,o,r,l;return a={},r=null!=n.attr("id")?"#"+n.attr("id"):"",o=null!=n.attr("class")?n.attr("class").split(" ").map(function(e){return"."+e}):[],l=!1,null!=i.settings.canvas&&null!=i.settings.canvas[t]&&(null!=s?null!=i.settings.canvas[t][s]?l=i.settings.canvas[t][s]:null!=i.settings.canvas[t][id]?l=i.settings.canvas[t][id]:e.each(o,function(e,n){null!=i.settings.canvas[t][n]&&(l=i.settings.canvas[t][n])}):l=i.settings.canvas[t]),null!=n.attr("data-imagine-width")?a.width=parseFloat(n.attr("data-imagine-width")):l&&null!=l.width&&(a.width=parseFloat(i.delete_property(l,"width"))),null!=n.attr("data-imagine-height")?a.height=parseFloat(n.attr("data-imagine-height")):l&&null!=l.height&&(a.height=parseFloat(i.delete_property(l,"height"))),"layer"===t&&(a.position={},null!=n.attr("data-imagine-top")?a.position.top=parseFloat(n.attr("data-imagine-top")):l&&null!=l.top?a.position.top=parseFloat(i.delete_property(l,"top")):null!=n.attr("data-imagine-bottom")?a.position.bottom=parseFloat(n.attr("data-imagine-bottom")):l&&null!=l.bottom?a.position.bottom=parseFloat(i.delete_property(l,"bottom")):a.position.top=0,null!=n.attr("data-imagine-left")?a.position.left=parseFloat(n.attr("data-imagine-left")):l&&null!=l.left?a.position.left=parseFloat(i.delete_property(l,"left")):null!=n.attr("data-imagine-right")?a.position.right=parseFloat(n.attr("data-imagine-right")):l&&null!=l.right?a.position.right=parseFloat(i.delete_property(l,"right")):a.position.left=0),a}}(this),this.set_size=function(i){return function(){i.size.window.width=i.window.width(),i.size.window.height=i.window.height(),i.size.window.half=i.size.window[i.param.size]/2,i.size.parent.width=i.parent.outerWidth(!0),i.size.parent.height=i.parent.outerHeight(!0),"fullscreen"===i.settings.size?i.source.css({width:i.size.window.width,height:i.size.window.height,"max-width":i.size.window.width,"max-height":i.size.window.height}):"screenHeight"===i.settings.size?i.source.height(i.size.window.height):"screenWidth"===i.settings.size&&i.source.width(i.size.window.width),i.size.source.width=i.source.outerWidth(!0),i.size.source.height=i.source.outerHeight(!0),i.background.length>0?(i.size.background=e.extend(i.get_image_size(i.background),i.size.background),i.size.element.width=i.size.source.width,i.size.element.height=i.size.source.width/i.size.background.width*i.size.background.height,i.size.source.height>i.size.element.height&&(i.size.element.width=i.size.source.height/i.size.background.height*i.size.background.width,i.size.element.height=i.size.source.height),i.loaded?i.animate.set(i.background,{height:i.size.element.height,width:i.size.element.width}):i.animate.to(i.background,i.settings.initialAnimationDuration,{height:i.size.element.height,width:i.size.element.width})):(i.size.element.width=i.element.outerWidth(!0),i.size.element.height=i.element.outerHeight(!0)),i.layers.length>0&&i.layers.each(function(t,n){i.size.layer[t]=e.extend(i.get_image_size(e(n)),i.size.layer[t])}),i.size.source.same={width:i.size.source.width===i.size.element.width,height:i.size.source.height===i.size.element.height},i.size.source.ratio=i.size.window[i.param.size]/i.size.source[i.param.size],i.size.source.difference=i.size.window[i.param.size]-i.size.source[i.param.size],i.size.source.spanning=i.size.window[i.param.size]+i.size.source[i.param.size],i.log("Element sizes have been set.")}}(this),this.setSize=this.set_size,this.set_position=function(e){return function(){e.position.source.top=e.source.offset().top,e.position.source.bottom=e.position.source.top+e.size.source.height,e.position.source.vmiddle=(e.position.source.top+e.position.source.bottom)/2,e.position.source.left=e.source.offset().left,e.position.source.right=e.position.source.left+e.size.source.width,e.position.source.hmiddle=(e.position.source.left+e.position.source.right)/2,e.position.element.top=e.element.offset().top,e.position.element.bottom=e.position.element.top+e.size.element.height,e.position.element.left=e.element.offset().left,e.position.element.right=e.position.element.left+e.size.element.width,e.background.length>0&&(e.position.background=e.position.element),e.position.parent.top=e.parent.offset().top,e.position.parent.bottom=e.position.parent.top+e.size.parent.height,e.position.parent.left=e.parent.offset().left,e.position.parent.right=e.position.parent.left+e.size.parent.width,e.settings.normalizeTop&&e.position.source[e.param.start]<e.size.window[e.param.size]/2&&e.size.source[e.param.size]<e.size.window[e.param.size]?e.position.source.beginning=!0:e.position.source.beginning=!1,(e.background.length>0||e.layers.length>0)&&e.set_canvas_position(),e.log("Element positions have been set.")}}(this),this.setPosition=this.set_position,this.set_canvas_position=function(i){return function(){var t,n,s,a;switch(i.settings.anchor){case"center":n=-(i.size.element.width-i.size.source.width)/2,s=-(i.size.element.height-i.size.source.height)/2;break;case"top":n=-(i.size.element.width-i.size.source.width)/2,s=0;break;case"bottom":n=-(i.size.element.width-i.size.source.width)/2,s=-(i.size.element.height-i.size.source.height);break;case"left":n=0,s=-(i.size.element.height-i.size.source.height);break;case"right":n=-(i.size.element.width-i.size.source.width),s=-(i.size.element.height-i.size.source.height)/2;break;case"top-left":n=0,s=0;break;case"bottom-left":n=0,s=-(i.size.element.height-i.size.source.height);break;case"top-right":n=-(i.size.element.width-i.size.source.width),s=0;break;case"bottom-right":n=-(i.size.element.width-i.size.source.width),s=-(i.size.element.height-i.size.source.height)}n>0&&(n=0),s>0&&(s=0),i.loaded?i.animate.set(i.background,{"margin-top":s,"margin-left":n}):i.animate.to(i.background,i.settings.initialAnimationDuration,{"margin-top":s,"margin-left":n}),a=i.size.element.width/i.size.background.width,t=i.size.element.height/i.size.background.height,i.layers.each(function(o,r){var l;r=e(r),l={},"top"in i.size.layer[o].position?l.top=t*i.size.layer[o].position.top+s:"bottom"in i.size.layer[o].position&&(l.bottom=t*i.size.layer[o].position.bottom+s),"left"in i.size.layer[o].position?l.left=a*i.size.layer[o].position.left+n:"right"in i.size.layer[o].position&&(l.right=a*i.size.layer[o].position.right+n),"width"in i.size.layer[o]&&(l.width=a*i.size.layer[o].width),"height"in i.size.layer[o]&&(l.height=t*i.size.layer[o].height),i.loaded?i.animate.set(r,l):i.animate.to(r,i.settings.initialAnimationDuration,l)})}}(this),this.set_layer_index=function(i){return function(){i.layers.each(function(t,n){e(n).css({"z-index":i.layers.length-t})})}}(this),this.set_orientation=function(e){return function(i){e.param={},"vertical"===i?(e.param.size="height",e.param.middle="vmiddle",e.param.start="top",e.param.end="bottom",e.param.axis="y",e.param.scroll="scrollTop",e.param.half="halfHeight"):(e.param.size="width",e.param.middle="hmiddle",e.param.start="left",e.param.end="right",e.param.axis="x",e.param.scroll="scrollLeft",e.param.half="halfWidth")}}(this),this.set_responsive_context=function(e){return function(){e.window_width>=e.settings.screen.xl?e.current_responsive_size="xl":e.window_width>=e.settings.screen.lg?e.current_responsive_size="lg":e.window_width>=e.settings.screen.md?e.current_responsive_size="md":e.window_width>=e.settings.screen.sm?e.current_responsive_size="sm":e.current_responsive_size="xs",e.log("Responsive context is "+e.current_responsive_size+".")}}(this),this.set_classes=function(i){return function(){var n,s;0===e("#imagine-style").length&&(n=".imagine-parent { perspective: "+i.settings.perspective+"px; -moz-perspective: "+i.settings.perspective+"px; -webkit-perspective: "+i.settings.perspective+"px; perspective-origin: "+i.settings.perspectiveOrigin+"; -moz-perspective-origin: "+i.settings.perspectiveOrigin+"; -webkit-perspective-origin: "+i.settings.perspectiveOrigin+"; backface-visibility: hidden; -moz-backface-visibility: hidden; -webkit-backface-visibility: hidden; }",s=t.createElement("style"),s.id="imagine-style",s.type="text/css",s.innerHTML=n,e("head")[0].appendChild(s)),i.settings.animateElement?i.parent.addClass("imagine-parent"):i.element.addClass("imagine-parent"),i.background.length>0&&i.element.addClass("imagine-canvas"),i.element.addClass("imagine-animated"),i.background.addClass("imagine-animated"),i.layers.addClass("imagine-animated")}}(this),this.bind_resize=function(e){return function(){e.window.resize(function(){e.set_size(),e.set_position(),e.set_responsive_context(),e.parallax()})}}(this),this.ticking=!1,this.stop_ticking=function(e){return function(){e.ticking=!1}}(this),this.settings.optimize?this.start_ticking=function(e){return function(){e.ticking=!0}}(this):this.start_ticking=function(e){return function(){e.ticking=!1}}(this),this.in_view_eariler=!1,this.scroll=function(i){return function(){var t,n;if(n=i.element[0]._gsTransform&&i.element[0]._gsTransform[i.param.axis]?i.element[0]._gsTransform[i.param.axis]:0,t=e.imagine.window[i.param.half]-n,i.in_view=!(e.imagine.window[i.param.end]-i.position.source[i.param.start]+t<0||e.imagine.window[i.param.start]-i.position.source[i.param.end]-t>0),i.in_view)i.in_view_eariler||(i.in_view_eariler=!0,i.element.addClass("imagine-visible"),i.element.removeClass("imagine-hidden"),i.element.triggerHandler("imagine.visible",[i.in_view]));else if(i.in_view_eariler&&(i.in_view_eariler=!1,i.element.removeClass("imagine-visible"),i.element.addClass("imagine-hidden"),i.element.triggerHandler("imagine.visible",[i.in_view])),i.loaded)return;i.ticking||(i.start_ticking(),i.parallax())}}(this),this.bind_scroll=function(e){return function(){e.window.on("imagine.scroll",e.scroll)}}(this),this.set_element_id=function(e){return function(){null!=e.element.attr("id")?e.id=e.element.attr("id"):(e.id=e.get_random_id("imagine"),e.element.attr("id",e.id)),e.log("Element id has been set to "+e.id+".")}}(this),this.set_animator=function(e){return function(){e.animate=i[e.settings.animate],e.log("Animating using the "+e.settings.animate+" platform.")}}(this),this.get_random_id=function(e){return e+"-"+Math.floor(1e5*Math.random()+1)},this.get_image_size=function(e){return function(e){var i;return i={},i.width=null!=e[0].naturalWidth?e[0].naturalWidth:null!=e[0].width?e[0].width:null!=e.width?e.width():"auto",i.height=null!=e[0].naturalHeight?e[0].naturalHeight:null!=e[0].height?e[0].height:null!=e.height?e.height():"auto",i}}(this),this.debounce=function(e,i,t){var n;return n=void 0,function(){var s,a,o,r;o=this,s=arguments,r=function(){n=null,t||e.apply(o,s)},a=t&&!n,clearTimeout(n),n=setTimeout(r,i),a&&e.apply(o,s)}},this.delete_property=function(e,i){var t;return t=e[i],delete e[i],t},this.extend_settings=function(i){return function(t,n){return null!=i.settings[t]?i.settings[t]=e.extend({},n,i.settings[t]):i.settings[t]=n}}(this),this.log=function(e){return function(i){e.debug&&("object"==typeof i?console.log("[Imagine "+e.id+"]",i):console.log("[Imagine "+e.id+"] "+i))}}(this),this.error=function(e){return function(i){"object"==typeof i?console.error("[Imagine "+e.id+"]",i):console.error("[Imagine "+e.id+"] "+i)}}(this),this.initialize()},e.imagine.window={},e.imagine.resize=function(){var t;t=e(i),e.imagine.window.height=t.height(),e.imagine.window.width=t.width(),e.imagine.window.halfHeight=e.imagine.window.height/2,e.imagine.window.halfWidth=e.imagine.window.width/2},e(i).on("resize",function(i){return function(){e.imagine.resize()}}(this)),e.imagine.resize(),e.imagine.scroll=function(){var t;t=e(i),e.imagine.window.top=t.scrollTop(),e.imagine.window.left=t.scrollLeft(),e.imagine.window.bottom=e.imagine.window.top+e.imagine.window.height,e.imagine.window.right=e.imagine.window.left+e.imagine.window.width,e.imagine.window.vmiddle=e.imagine.window.top+e.imagine.window.halfHeight,e.imagine.window.hmiddle=e.imagine.window.left+e.imagine.window.halfWidth},e(i).on("scroll",function(t){return function(){e.imagine.scroll(),e(i).triggerHandler("imagine.scroll")}}(this)),e.imagine.scroll(),e.fn.imagine=function(i){return this.each(function(t,n){if(!e.data(n,"imagine"))return e.data(n,"imagine",new e.imagine(n,i))})}}(window.jQuery,window,document)}).call(this);
